package com.example.spiel;

import javafx.scene.layout.Pane;

public class GameStats {
    private int score = 0;
    private double attackSpeed = 1.0;
    private double step = 4.5; //Geschwindigkeit des Spielers
    private int bossHP = 100;
    private boolean endBossSpawned;
    private boolean endBossKilled;
    private GameManager gameManager;
    private OverlayUI overlayUI;
    private GameSounds gameSounds;
    private Pane root;
    private ObjectUI objectUI;
    private boolean deathState;
    private boolean paused;

    //Diese Klasse enthält jegliche Spielstats und kümmert sich um das resetten des Spiels
    public GameStats(ObjectUI objectUI, OverlayUI overlayUI, GameSounds gameSounds, Pane root) {
        this.objectUI = objectUI;
        this.overlayUI = overlayUI;
        this.gameSounds = gameSounds;
        this.root = root;
    }

    void setGameLoop(GameManager gameManager) {
        this.gameManager = gameManager;
    }

    //Setzt alle Werte zurück und löscht alle Objekte im root
    void resetGame() {
        root.getChildren().clear();
        deathState = false;
        objectUI.getPlayerView().setX(200);
        objectUI.getPlayerView().setY(200);
        score = 0;
        attackSpeed = 1.0;
        setStep(4.5);
        setBossHP(100);
        overlayUI.setText(root);
        objectUI.getAttackList().clear();
        objectUI.getBuffList().clear();
        objectUI.getEnemies().clear();
        setEndBossSpawned(false);
        setEndBossKilled(false);
        root.getChildren().add(objectUI.getPlayerView());
        gameManager.startTimer();
        gameSounds.playRandomSong();
    }

    //Veraendert das Level
    int level() {
        if (score <= 20) {
            return 1;
        } else if (score <= 40) {
            return 2;
        } else if (score <= 200) {
            return 3;
        } else if (score <= 250) {
            return 4;
        } else {
            return 5;
        }
    }

    public int getScore() {
        return score;
    }

    public void setScore(int score) {
        this.score = score;
    }

    public double getAttackSpeed() {
        return attackSpeed;
    }

    public void setAttackSpeed(double bulletSpeed) {
        this.attackSpeed = bulletSpeed;
    }

    public double getStep() {
        return step;
    }

    public void setStep(double step) {
        this.step = step;
    }

    public int getBossHP() {
        return bossHP;
    }

    public void setBossHP(int bossHP) {
        this.bossHP = bossHP;
    }

    public void decreaseHitPoints(int damage) {
        bossHP -= damage;
    }

    public boolean getEndBossSpawned() {
        return endBossSpawned;
    }

    public void setEndBossSpawned(boolean bool) {
        endBossSpawned = bool;
    }

    public boolean getEndBossKilled() {
        return endBossKilled;
    }

    public void setEndBossKilled(boolean bool) {
        endBossKilled = bool;
    }

    public void setDeathState(boolean state) {
        deathState = state;
    }

    public boolean getDeathState() {
        return deathState;
    }

    public void setPaused(boolean paused) {
        this.paused = paused;
    }

    public boolean getPaused() {
        return paused;
    }
}
